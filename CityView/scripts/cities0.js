define([],function() {
	var newCityList = [
		"1	北京		beijing	bj	39.90420151	116.4069977",
		"2	上海		shanghai	sh	31.23040009	121.473999",
		"3	天津		tianjin	tj	39.11709976	117.2149963",
		"4	重庆		chongqing	cq	29.56299973	106.552002",
		"5	哈尔滨		haerbin	heb	45.75749969	126.6409988",
		"6	大连		dalian	dl	38.91400146	121.6149979",
		"7	青岛		qingdao	qd	36.06710052	120.3830032",
		"10	西安		xian	xa	34.25939941	108.9469986",
		"12	南京		nanjing	nj	32.04190063	118.7839966",
		"13	无锡		wuxi	wx	31.57570076	120.3000031",
		"14	苏州		suzhou	sz	31.2989006	120.5849991",
		"15	扬州		yangzhou	yz	32.39440155	119.4339981",
		"16	镇江		zhenjiang	zj	32.20420074	119.4530029",
		"17	杭州		hangzhou	hz	30.27409935	120.1549988",
		"19	舟山		zhoushan	zs	29.98530006	122.2070007",
		"22	绍兴		shaoxing	sx	30.02980042	120.5800018",
		"23	黄山		huangshan	hs	29.7147007	118.336998",
		"24	九江		jiujiang	jj	29.70509911	116.0019989",
		"25	厦门		shamen	sm	24.47979927	118.0889969",
		"27	张家界		zhangjiajie	zjj	29.11709976	110.4789963",
		"28	成都		chengdou	cd	30.65740013	104.0660019",
		"30	深圳		shenzhen	sz	22.54310036	114.0579987",
		"31	珠海		zhuhai	zh	22.27070045	113.5770035",
		"32	广州		guangzhou	gz	23.13750076	113.3249969",
		"33	桂林		guilin	gl	25.27510071	110.2959976",
		"34	昆明		kunming	km	25.03339958	102.7099991",
		"35	西双版纳		xishuangbanna	xsbn	22.00720024	100.7969971",
		"37	丽江		lijiang	lj	26.85499954	100.2279968",
		"38	贵阳		guiyang	gy	26.58440018	106.711998",
		"39	乌鲁木齐		wulumuqi	wlmq	43.82559967	87.61689758",
		"41	拉萨		lasa	ls	29.65539932	91.11889648",
		"42	海口		haikou	hk	20.03009987	110.3430023",
		"43	三亚		sanya	sy	18.25279999	109.512001",
		"82	南通		nantong	nt	31.98019981	120.8939972",
		"86	湖州		huzhou	hz	30.89430046	120.086998",
		"91	九寨沟		jiuzhaigou	jzg	33.2521019	104.2440033",
		"99	银川		yinchuan	yc	38.48720169	106.2310028",
		"100	兰州		lanzhou	lz	36.06110001	103.8339996",
		"103	呼和浩特		huhehaote	hhht	40.82020187	111.6669998",
		"105	太原		taiyuan	ty	37.87060165	112.5490036",
		"109	喀什市		kashenshi	kss	39.46770096	75.9937973",
		"110	延安		yanan	ya	36.58549881	109.4899979",
		"111	咸阳		xianyang	xy	34.32960129	108.7089996",
		"112	宝鸡		baoji	bj	34.36320114	107.237999",
		"124	西宁		xining	xn	36.61709976	101.7779999",
		"129	汉中		hanzhong	hz	33.06750107	107.0230026",
		"136	大同		datong	dt	40.0768013	113.3000031",
		"137	长治		zhangzhi	zz	36.19540024	113.1159973",
		"139	临汾		linfen	lf	36.08800125	111.5189972",
		"140	运城		yuncheng	yc	35.02640152	111.0080032",
		"141	包头		baotou	bt	40.65739822	109.8399963",
		"142	海拉尔		hailaer	hle	49.21220016	119.7360001",
		"144	济南		jinan	jn	36.65119934	117.1200027",
		"147	秦皇岛		qinhuangdao	qhd	39.9353981	119.5999985",
		"149	齐齐哈尔		qiqihaer	qqhe	47.35430145	123.9179993",
		"150	牡丹江		mudanjiang	mdj	44.55170059	129.6329956",
		"158	长春		zhangchun	zc	43.81710052	125.3239975",
		"159	吉林		jilin	jl	43.83789825	126.5500031",
		"166	克拉玛依		kelamayi	klmy	45.57989883	84.8891983",
		"177	安庆		anqing	aq	30.5435009	117.064003",
		"178	鞍山		anshan	as	41.10860062	122.9940033",
		"181	安阳		anyang	ay	36.09759903	114.3919983",
		"182	蚌埠		bangbu	bb	32.91630173	117.3899994",
		"185	保定		baoding	bd	38.87409973	115.4649963",
		"186	玉溪		yuxi	yx	24.34729958	102.5270004",
		"189	北海		beihai	bh	21.48130035	109.1200027",
		"201	常德		changde	cd	29.03170013	111.697998",
		"202	赤峰		chifeng	cf	42.25780106	118.887001",
		"206	长沙		zhangsha	zs	28.22820091	112.939003",
		"211	朝阳		chaoyang	cy	41.57369995	120.4499969",
		"213	常州		changzhou	cz	31.81069946	119.973999",
		"214	滁州		chuzhou	cz	32.30160141	118.3170013",
		"215	潮州		chaozhou	cz	23.65690041	116.6230011",
		"216	沧州		cangzhou	cz	38.30450058	116.8389969",
		"218	池州		chizhou	cz	30.66480064	117.4919968",
		"221	丹东		dandong	dd	40.1242981	124.3880005",
		"223	东莞		dongguan	dg	23.02070045	113.7519989",
		"231	大庆		daqing	dq	46.58929825	125.1039963",
		"236	东营		dongying	dy	37.43470001	118.6750031",
		"237	德阳		deyang	dy	31.12689972	104.3980026",
		"245	恩施		enshi	es	30.27219963	109.487999",
		"251	佛山		foshan	fs	23.02149963	113.1210022",
		"252	抚顺		fushun	fs	41.88090134	123.9570007",
		"254	阜新		fuxin	fx	42.02159882	121.6699982",
		"257	阜阳		fuyang	fy	32.89009857	115.814003",
		"258	福州		fuzhou	fz	26.07449913	119.2959976",
		"267	广元		guangyuan	gy	32.4353981	105.8430023",
		"268	赣州		ganzhou	gz	25.83180046	114.9349976",
		"275	邯郸		handan	hd	36.62559891	114.5390015",
		"278	合肥		hefei	hf	31.82060051	117.2269974",
		"282	怀化		huaihua	hh	27.56949997	110.0019989",
		"287	淮南		huainan	hn	32.62549973	117",
		"290	衡水		hengshui	hs	37.73889923	115.6699982",
		"292	黄石		huangshi	hs	30.20000076	115.0390015",
		"297	衡阳		hengyang	hy	26.89319992	112.5719986",
		"299	惠州		huizhou	hz	23.11179924	114.4160004",
		"305	景德镇		jingdezhen	jdz	29.26880074	117.1780014",
		"308	金华		jinhua	jh	29.07909966	119.6470032",
		"316	江门		jiangmen	jm	22.57909966	113.0820007",
		"317	佳木斯		jiamusi	jms	46.79980087	130.3190002",
		"318	济宁		jining	jn	35.41500092	116.586998",
		"326	嘉峪关		jiayuguan	jyg	39.77310181	98.28919983",
		"327	锦州		jinzhou	jz	41.09569931	121.1269989",
		"328	荆州		jingzhou	jz	30.33519936	112.2399979",
		"331	开封		kaifeng	kf	34.79719925	114.3079987",
		"340	廊坊		langfang	lf	39.5379982	116.6839981",
		"345	乐山		leshan	ls	29.55209923	103.7659988",
		"346	丽水		lishui	ls	28.46759987	119.9229965",
		"348	龙岩		longyan	ly	25.07509995	117.0179977",
		"350	洛阳		luoyang	ly	34.61970139	112.4540024",
		"351	辽阳		liaoyang	ly	41.26720047	123.2369995",
		"352	辽源		liaoyuan	ly	42.88779831	125.1439972",
		"353	连云港		lianyungang	lyg	34.59669876	119.2220001",
		"354	柳州		liuzhou	lz	24.32600021	109.4280014",
		"355	泸州		luzhou	lz	28.87179947	105.4420013",
		"370	绵阳		mianyang	my	31.46279907	104.7470016",
		"375	宁波		ningbo	nb	29.8696003	121.5550003",
		"376	南昌		nanchang	nc	28.68289948	115.8580017",
		"377	南充		nanchong	nc	30.83779907	106.1110001",
		"378	宁德		ningde	nd	26.66559982	119.5479965",
		"380	南宁		nanning	nn	22.81909943	108.3209991",
		"385	南阳		nanyang	ny	32.99069977	112.5279999",
		"387	盘锦		panjin	pj	41.11999893	122.0709991",
		"406	泉州		quanzhou	qz	24.9076004	118.586998",
		"407	衢州		quzhou	qz	28.9701004	118.8590012",
		"411	上饶		shangrao	sr	28.45490074	117.9430008",
		"422	韶关		shaoguan	sg	24.81040001	113.5979996",
		"426	石河子		shihezi	shz	44.30609894	86.08059692",
		"428	石家庄		shijiazhuang	sjz	38.04230118	114.5149994",
		"437	三明		sanming	sm	26.26339912	117.6389999",
		"440	四平		siping	sp	43.16640091	124.3499985",
		"441	商丘		shangqiu	sq	34.41500092	115.6559982",
		"447	汕头		shantou	st	23.35409927	116.6819992",
		"451	沈阳		shenyang	sy	41.80569839	123.4309998",
		"452	十堰		shiyan	sy	32.65530014	110.7819977",
		"454	泰安		taian	ta	36.20029831	117.0879974",
		"456	通化		tonghua	th	41.72840118	125.9400024",
		"458	通辽		tongliao	tl	43.6529007	122.2429962",
		"459	铜陵		tongling	tl	30.94540024	117.8119965",
		"468	唐山		tangshan	ts	39.63090134	118.1800003",
		"475	潍坊		weifang	wf	36.70679855	119.1620026",
		"477	武汉		wuhan	wh	30.59309959	114.3050003",
		"478	芜湖		wuhu	wh	31.35289955	118.4329987",
		"479	威海		weihai	wh	37.51309967	122.1200027",
		"487	万州		wanzhou	wz	30.80780029	108.4089966",
		"491	温州		wenzhou	wz	27.99379921	120.6989975",
		"492	梧州		wuzhou	wz	23.47699928	111.2789993",
		"494	西昌		xichang	xc	27.89450073	102.2639999",
		"496	襄阳		xiangyang	xy	32.05989838	112.1330032",
		"507	新乡		xinxiang	xx	35.30310059	113.927002",
		"510	信阳		xinyang	xy	32.14699936	114.0910034",
		"512	徐州		xuzhou	xz	34.26290131	117.1780014",
		"513	忻州		xinzhou	xz	38.41669846	112.7340012",
		"514	宜宾		yibin	yb	28.75180054	104.6429977",
		"515	宜昌		yichang	yc	30.69199944	111.2860031",
		"518	宜春		yichun	yc	27.81559944	114.4169998",
		"521	宿州		suzhou	sz	33.64640045	116.9639969",
		"523	延吉		yanji	yj	42.8913002	129.5090027",
		"527	榆林		yulin	yl	38.28540039	109.7350006",
		"533	烟台		yantai	yt	37.46379852	121.447998",
		"534	鹰潭		yingtan	yt	28.23870087	117.0339966",
		"536	义乌		yiwu	yw	29.30680084	120.0749969",
		"539	岳阳		yueyang	yy	29.35709953	113.1289978",
		"542	淄博		zibo	zb	36.81349945	118.0550003",
		"544	自贡		zigong	zg	29.3390007	104.7779999",
		"547	湛江		zhanjiang	zj	21.27070045	110.3590012",
		"550	张家口		zhangjiakou	zjk	40.76750183	114.8860016",
		"551	驻马店		zhumadian	zmd	33.01150131	114.0220032",
		"552	肇庆		zhaoqing	zq	23.04719925	112.4649963",
		"553	中山		zhongshan	zs	22.5170002	113.3929977",
		"558	遵义		zunyi	zy	27.72570038	106.927002",
		"559	郑州		zhengzhou	zz	34.7519989	113.6669998",
		"560	漳州		zhangzhou	zz	24.5128994	117.6470032",
		"562	承德		chengde	cd	40.95289993	117.9629974",
		"571	嘉兴		jiaxing	jx	30.74609947	120.7549973",
		"578	台州		taizhou	tz	28.65640068	121.4209976",
		"589	巢湖		chaohu	ch	31.59860039	117.8619995",
		"598	湘潭		xiangtan	xt	27.82970047	112.9440002",
		"601	株洲		zhuzhou	zz	27.82799911	113.1340027",
		"603	新余		xinyu	xy	27.81780052	114.9169998",
		"605	六盘水		liupanshui	lps	26.59269905	104.8300018",
		"606	南平		nanping	np	26.64179993	118.1780014",
		"612	郴州		chenzhou	cz	25.77050018	113.0149994",
		"614	枣庄		zaozhuang	zz	34.8105011	117.3239975",
		"662	酒泉		jiuquan	jq	39.73279953	98.49440002",
		"663	张掖		zhangye	zy	38.92589951	100.4499969",
		"667	莆田		putian	pt	25.45409966	119.0080032",
		"693	河源		heyuan	hy	23.74370003	114.7009964",
		"907	阳泉		yangquan	yq	37.85699844	113.5810013",
		"918	娄底		loudi	ld	27.70009995	111.9929962",
		"933	吉安		jian	ja	27.08760071	114.9649963",
		"937	咸宁		xianning	xn	29.84140015	114.3219986",
		"947	邢台		xingtai	xt	37.0705986	114.5049973",
		"951	鹤壁		hebi	hb	35.74720001	114.2969971",
		"956	揭阳		jieyang	jy	23.54999924	116.3730011",
		"970	永州		yongzhou	yz	26.42040062	111.612999",
		"985	曲靖		qujing	qj	25.48999977	103.7959976",
		"992	鄂州		ezhou	ez	30.39189911	114.8949966",
		"1006	宣城		xuancheng	xc	30.94070053	118.7590027",
		"1024	马鞍山		maanshan	mas	31.6704998	118.5070038",
		"1030	渭南		weinan	wn	34.5	109.5100021",
		"1048	铁岭		tieling	tl	42.22380066	123.7259979",
		"1050	葫芦岛		huludao	hld	40.71110153	120.836998",
		"1071	聊城		liaocheng	lc	36.45700073	115.9850006",
		"1074	菏泽		heze	hz	35.2336998	115.4810028",
		"1078	亳州		bozhou	bz	33.84460068	115.7789993",
		"1088	漯河		luohe	lh	33.58089828	114.0169983",
		"1092	晋城		jincheng	jc	35.49069977	112.8519974",
		"1093	焦作		jiaozuo	jz	35.21590042	113.2419968",
		"1094	许昌		xuchang	xc	34.03549957	113.8529968",
		"1097	攀枝花		panzhihua	pzh	26.58230019	101.7190018",
		"1100	广安		guangan	ga	30.45599937	106.6330032",
		"1106	日照		rizhao	rz	35.41669846	119.5270004",
		"1111	邵阳		shaoyang	sy	27.23889923	111.4680023",
		"1113	玉林		yulin	yl	22.65259933	110.1800003",
		"1121	荆门		jingmen	jm	31.03540039	112.1989975",
		"1125	益阳		yiyang	yy	28.55389977	112.3550034",
		"1128	绥化		suihua	sh	46.65380096	126.9690018",
		"1148	眉山		meishan	ms	30.0753994	103.848999",
		"1155	本溪		benxi	bx	41.29539871	123.7590027",
		"1200	盐城		yancheng	yc	33.38299942	120.1389999",
		"1232	濮阳		puyang	py	35.76179886	115.0289993",
		"1233	达州		dazhou	dz	31.20960045	107.4680023",
		"1300	营口		yingkou	yk	40.66699982	122.2350006",
		"1303	松原		songyuan	sy	45.14179993	124.8249969",
		"1317	朔州		shuozhou	sz	39.33160019	112.4329987",
		"1370	德州		dezhou	dz	37.4341011	116.3570023",
		"1371	遂宁		suining	sn	30.53280067	105.5930023",
		"1422	清远		qingyuan	qy	23.68180084	113.0559998",
		"1436	汕尾		shanwei	sw	22.78619957	115.375",
		"1452	莱芜		laiwu	lw	36.21369934	117.677002",
		"1453	晋中		jinzhong	jz	37.68700027	112.7529984",
		"1454	济源		jiyuan	jy	35.06719971	112.6019974",
		"1472	宿迁		suqian	sq	33.96319962	118.2750015",
		"1490	孝感		xiaogan	xg	30.9178009	113.9570007",
		"1518	贵港		guigang	gg	23.11149979	109.598999",
		"1560	资阳		ziyang	zy	30.12890053	104.6279984",
		"1597	内江		neijiang	nj	29.5802002	105.0579987",
		"1677	防城港		fangchenggang	fcg	21.68689919	108.3539963",
		"1705	六安		liuan	la	31.7336998	116.5220032",
		"1820	滨州		binzhou	bz	37.38199997	117.9710007",
		"1840	萍乡		pingxiang	px	27.62280083	113.8550034",
		"1882	仙桃		xiantao	xt	30.36090088	113.4229965",
		"1899	钦州		qinzhou	qz	21.97990036	108.6539993",
		"3053	梅州		meizhou	mz	24.28860092	116.1220016",
		"3221	周口		zhoukou	zk	33.62609863	114.6969986",
		"3222	平顶山		pingdingshan	pds	33.7193985	113.3040009",
		"3884	抚州		fuzhou	fz	27.94919968	116.3580017",
		"3885	黄冈		huanggang	hg	30.45369911	114.8720016",
		"3976	鄂尔多斯		eerduosi	eeds	39.60829926	109.7809982",
		"4216	石嘴山		shizuishan	szs	38.98320007	106.3830032",
		"4255	呼伦贝尔		hulunbeier	hlbe	49.21160126	119.7659988",
		"7631	吕梁		lu:liang	ll	37.5182991	111.1439972",
		"21268	大理		dali	dl	25.60650063	100.2679977"
	];
	var cities = require("cities");

	var cityMapping = [];
	for (var i = 0; i < cities.length; i++) {
		var curinfo = cities[i];
		cityMapping[curinfo.id] = curinfo;
	}

	

	var analyseCityes = function(){
		var cityList =[];
		for (var i = 0; i < newCityList.length; i++) {
			var cityString = newCityList[i];
			var m = cityString.split(/\s+/);
		    cityList.push({
	    		cityId:m[0],
		        cityName:m[1],
		        ename:m[2],
		        lat:parseFloat(m[4]),
		        long:parseFloat(m[5])
		    });
		}
		return cityList;
	};

	var mappingCityes = function(){
		var finalCityList = [];
		var newCityInfoList = analyseCityes();
		for (var i = 0; i < newCityInfoList.length; i++) {
			var newCity = newCityInfoList[i];
			var rawCity = cityMapping[newCity.cityId];
			finalCityList.push({
                id: newCity.cityId,
                parentCity: rawCity.parentCity,
                name: newCity.cityName,
                countryId: rawCity.countryId,
                ename: newCity.ename,
                location: {
                    long: newCity.long,
                    lat: newCity.lat
                }
            });
		}
		return finalCityList;
	};
	
 	return mappingCityes();
});